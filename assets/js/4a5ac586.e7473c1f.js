"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5546],{8099:(s,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>o,toc:()=>a});var r=n(4848),t=n(8453);const c={},l="vac_mcp_server_fastmcp.py",o={id:"src/sunholo/mcp/vac_mcp_server_fastmcp",title:"vac_mcp_server_fastmcp.py",description:"Source: src/sunholo/mcp/vacmcpserverfastmcp.py",source:"@site/docs/src/sunholo/mcp/vac_mcp_server_fastmcp.md",sourceDirName:"src/sunholo/mcp",slug:"/src/sunholo/mcp/vac_mcp_server_fastmcp",permalink:"/docs/src/sunholo/mcp/vac_mcp_server_fastmcp",draft:!1,unlisted:!1,editUrl:"https://github.com/sunholo-data/sunholo-py/tree/main/docs/docs/src/sunholo/mcp/vac_mcp_server_fastmcp.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"sse_utils.py",permalink:"/docs/src/sunholo/mcp/sse_utils"},next:{title:"process_pubsub.py",permalink:"/docs/src/sunholo/pubsub/process_pubsub"}},i={},a=[{value:"Classes",id:"classes",level:2},{value:"VACMCPServer",id:"vacmcpserver",level:3}];function h(s){const e={a:"a",br:"br",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...s.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"vac_mcp_server_fastmcppy",children:"vac_mcp_server_fastmcp.py"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.em,{children:"Source"}),": ",(0,r.jsx)(e.a,{href:"https://github.com/sunholo-data/sunholo-py/blob/main/src/sunholo/mcp/vac_mcp_server_fastmcp.py",children:"src/sunholo/mcp/vac_mcp_server_fastmcp.py"})]}),"\n",(0,r.jsx)(e.h2,{id:"classes",children:"Classes"}),"\n",(0,r.jsx)(e.h3,{id:"vacmcpserver",children:"VACMCPServer"}),"\n",(0,r.jsx)(e.p,{children:"FastMCP Server that exposes VAC functionality as tools.\nNow built on top of ExtensibleMCPServer for better customization."}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"init"}),"(self, server_name: str = 'sunholo-vac-server', include_vac_tools: bool = True, custom_registry: sunholo.mcp.extensible_mcp_server.MCPToolRegistry = None)","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Initialize the VAC MCP Server using FastMCP."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Args:\nserver_name: Name for the MCP server\ninclude_vac_tools: Whether to include built-in VAC tools\ncustom_registry: Optional custom tool registry"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["add_resource(self, func: Callable, name: str = None, description: str = None)","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Add a custom resource function to the MCP server."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Args:\nfunc: The resource function\nname: Optional custom name",(0,r.jsx)(e.br,{}),"\n","description: Optional description"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["add_tool(self, func: Callable, name: str = None, description: str = None)","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Add a custom tool function to the MCP server."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"Args:\nfunc: The tool function\nname: Optional custom name\ndescription: Optional description"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["get_http_app(self)","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Get the HTTP app for mounting in FastAPI."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:'IMPORTANT: This returns an app with path="" configured.\nThe VACRoutesFastAPI class mounts this at "/mcp/mcp" to create the /mcp/mcp endpoint.'}),"\n",(0,r.jsx)(e.p,{children:'DO NOT change this to path="/mcp" as that would create double nesting when mounted.\nDO NOT mount at root "" as that would intercept all other FastAPI routes.'}),"\n",(0,r.jsx)(e.p,{children:"The correct configuration is:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:'This method: path=""'}),"\n",(0,r.jsx)(e.li,{children:'VACRoutesFastAPI: mount at "/mcp/mcp"'}),"\n",(0,r.jsx)(e.li,{children:"Result: MCP endpoint at /mcp/mcp without breaking other routes"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"get_registry(self) -> sunholo.mcp.extensible_mcp_server.MCPToolRegistry"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Get the tool registry for advanced customization."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"get_server(self) -> fastmcp.server.server.FastMCP"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Get the underlying FastMCP server instance."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"list_resources(self) -> List[str]"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"List all registered resources."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"list_tools(self) -> List[str]"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"List all registered tools."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"run(self, transport: str = 'stdio', **kwargs)"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Run the MCP server."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:'Args:\ntransport: Transport type ("stdio" or "http")\n**kwargs: Additional arguments for the transport'}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["run_async(self, transport: str = 'stdio', **kwargs)","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Run the MCP server asynchronously."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:'Args:\ntransport: Transport type ("stdio" or "http")\n**kwargs: Additional arguments for the transport'})]})}function p(s={}){const{wrapper:e}={...(0,t.R)(),...s.components};return e?(0,r.jsx)(e,{...s,children:(0,r.jsx)(h,{...s})}):h(s)}},8453:(s,e,n)=>{n.d(e,{R:()=>l,x:()=>o});var r=n(6540);const t={},c=r.createContext(t);function l(s){const e=r.useContext(c);return r.useMemo((function(){return"function"==typeof s?s(e):{...e,...s}}),[e,s])}function o(s){let e;return e=s.disableParentContext?"function"==typeof s.components?s.components(t):s.components||t:l(s.components),r.createElement(c.Provider,{value:e},s.children)}}}]);